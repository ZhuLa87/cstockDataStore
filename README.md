# CStock - 台股每日收盤資料收集系統

## 專案簡介

CStock 是一個用來收集和分析台灣股市每日收盤資料的系統。本系統通過串接公開 API 獲取股票數據，並將其存儲到本地資料庫中，方便後續的數據分析和應用。

## 功能特點

- 自動抓取每日股票收盤價格 crontab
- 數據持久化儲存
- 提供基本的數據查詢功能
- 過濾只保留已上市的公司股票資料

## 安裝與設置


### 安裝步驟

```
git clone xxx
pnpm i
```

### 配置環境變數
複製 .env.example, 變更名稱為 .env
```
cp .env.example .env
vi .env
```

## 使用範例

```
pnpm start
```

## 資料庫設計

### 資料表結構

#### 股票資訊資料表 (stock_info)

| 欄位名稱   | 資料類型     | 描述               |
| ---------- | ------------ | ------------------ |
| id         | INT          | 主鍵，自動遞增     |
| stock_code | VARCHAR(10)  | 股票代碼           |
| stock_name | VARCHAR(100) | 股票名稱           |

#### 歷史收盤價格資料表 (stock_history_price)

| 欄位名稱     | 資料類型       | 描述                     |
| ------------ | -------------- | ------------------------ |
| id           | INT            | 主鍵，自動遞增           |
| stock_id     | INT            | 外鍵，對應 `stock_info` 的 id |
| date         | DATE           | 日期                     |
| close_price  | DECIMAL(10,2)  | 收盤價格                 |


